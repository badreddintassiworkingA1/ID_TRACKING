<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ID Checker + Suggestions</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 40px;
      background-color: #f0f0f0;
    }
    input, button {
      padding: 10px;
      font-size: 16px;
    }
    #result {
      margin-top: 20px;
      font-size: 18px;
    }
    .suggestion {
      color: #555;
      font-family: monospace;
      margin: 4px 0;
    }
  </style>
</head>
<body>

  <h1>ğŸ” ID Checker + Suggestions</h1>

  <input type="text" id="subid" placeholder="Enter subid..." />
  <button onclick="checkID()">Check</button>

  <div id="result"></div>

  <script>
    let idList = {};

    fetch('idList.json')
      .then(response => response.json())
      .then(data => {
        idList = data;
      })
      .catch(error => {
        document.getElementById("result").innerHTML = "âŒ Failed to load ID list.";
        console.error(error);
      });

    function checkID() {
      const subidInput = document.getElementById("subid").value.trim().toLowerCase();
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = "";

      if (!subidInput) {
        resultDiv.innerHTML = "âš ï¸ Please enter a subid.";
        return;
      }

      // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ID Ù…Ø·Ø§Ø¨Ù‚ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
      let found = false;
      for (const id in idList) {
        if (subidInput.includes(id)) {
          resultDiv.innerHTML = `âœ… Found: <strong>${idList[id]}</strong> (ID: <code>${id}</code>)`;
          found = true;
          break;
        }
      }

      if (!found) {
        // Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ID Ù…Ø¨Ø§Ø´Ø±ØŒ Ù†Ù‚ØªØ±Ø­ Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª
        const parts = subidInput.split("-");
        if (parts.length > 1) {
          const encryptedPart = parts[1].trim();
          const ignoreChars = ["l", "r", "a", "u", "g", "p", "m", "s", "c", "d", "i"];
          const variants = generateVariants(encryptedPart, ignoreChars);

          resultDiv.innerHTML = "âŒ No match found. <br><br>ğŸ’¡ Suggestions:";
          variants.slice(0, 10).forEach(variant => {
            resultDiv.innerHTML += `<div class="suggestion">â€“ ${variant}</div>`;
          });
        } else {
          resultDiv.innerHTML = "âŒ No match found. Cannot generate suggestions.";
        }
      }
    }

    function generateVariants(text, ignoreChars) {
      const filtered = text.split("").filter(char => !ignoreChars.includes(char)).join("");
      const variants = [];

      // ØªÙˆÙ„ÙŠØ¯ Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª Ù…ÙƒÙˆÙ†Ø© Ù…Ù† 3 Ø®Ø§Ù†Ø§Øª
      for (let i = 0; i < filtered.length - 2; i++) {
        variants.push(filtered.slice(i, i + 3));
      }

      // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙƒØ±Ø§Ø±Ø§Øª
      return [...new Set(variants)];
    }
  </script>

</body>
</html>
